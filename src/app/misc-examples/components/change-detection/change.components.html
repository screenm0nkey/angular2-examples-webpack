<section class="main">
  <p class="file">/misc-examples/components/change-detection/change.components.ts</p>
  <h4>CHANGE DETECTION</h4>

  <a href="http://blog.angular-university.io/how-does-angular-2-change-detection-really-work/" target="_blank">How does
    Angular Change Detection Really Work ?</a>
  <a href="http://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html" target="_blank">Thoughtram
    Change Detection Explained</a>
  <a href="http://victorsavkin.com/post/110170125256/change-detection-in-angular-2" target="_blank">Victor Savin Change
    Detection</a>
  <a href="http://blog.scottlogic.com/2015/12/07/angular-2.html" target="_blank">ScottLogic Building a todo list</a>
  <a href="http://victorsavkin.com/post/133936129316/angular-immutability-and-encapsulation" target="_blank">
    Immutability vs Encapsulation
  </a>

  <h5><strong>Each Angular component has an associated change detector, which is created at application startup
    time</strong></h5>

  <h5><strong>OnPush does not check only for changes in the component inputs:
    if a component emits an event that will also trigger change detection.
  </strong></h5>

  <p>
    Somewhere in Angular’s source code,there’s this thing called <strong>ApplicationRef</strong>,
    which listens to NgZones onTurnDone event. Whenever this event is fired, it executes a tick()
    function which essentially performs change detection.
  </p>

  <p>
    In Angular 2, components can subscribe to the <strong>onChanges</strong> lifecycle hook,
    which will be called when any of the @inputs properties change. this doesn't happen if
    changeDetection.OnPush is set. Only when the @input reference changes does it get called.
    This is the case for immutability.
  </p>

  <p><strong>changeDetection: ChangeDetectionStrategy.OnPush</strong></p>

  <p>
    <i>What's interesting below is if you set the change detection to default and type into the "Local Ref"
      input, which is using a local variable reference and not
      ngModel, the change detection isn't triggered. It only works
      on the ngModel <span style="color: red;">(change ChangeDetectionStrategy to default to see it)</span></i>
  </p>

  <p>
    Try changing the <strong>ChangeDetectionStrategy on the TodoListComponent from Push to Default</strong> and then
    type into the first input ( the one using ng-model) and you will see
    in the console the component's text property is called on every event.
  </p>
  <h5 style="color: red; margin: 0;">You need to watch the console for this examaple</h5>
  <p>Local template variables using #reference
    <i style="color: red; font-weight: bold">(press return to add item)</i></p>
</section>



