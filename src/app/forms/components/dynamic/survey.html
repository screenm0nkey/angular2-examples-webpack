<div>
  <form [formGroup]="form" #f="ngForm" (ngSubmit)="onSubmit()">
    <div *ngFor="let question of model.questions" class="form-row">
      <div class="formHeading">{{question.text}}</div>

      <div [ngSwitch]="question.controlType">
        <div *ngSwitchCase="'textbox'">
          <input type="{{question.type}}" id="{{question.key}}" [formControlName]="question.key">
        </div>
        <div *ngSwitchCase="'dropdown'">
          <select [formControlName]="question.key">
            <option *ngFor="let o of question.options" [value]="o.key">{{o.value}}</option>
          </select>
        </div>
      </div>

      <div class="errorMessage" *ngIf="!f.form.controls[question.key].valid">*required</div>
    </div>

    <div class="form-row">
      <button type="submit" [disabled]="!f.form.valid">Save</button>
    </div>
  </form>

  <div class="form-row">
    <div *ngIf="payLoad"><highlight>The form contains the following values</highlight></div>
    <div>
      {{payLoad}}
    </div>
  </div>
  <h4>  <dlink [id]="39"></dlink></h4>
</div>
