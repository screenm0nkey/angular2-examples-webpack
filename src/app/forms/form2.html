<style>
    .errorMessage {background-color: red; color:#fff; padding:1px 3px;}
</style>


<h2>Form 2 - ngFormModel and ngControl</h2>
<h3>(see form 3 for ngFormModel and ngFormControl)</h3>
<pre>
    Angular provides another directive that we use when we have an
    existing ControlGroup instead of using the one created by NgForm:
    it's called NgFormModel and we use it like this:
    <h3>
        &lt;form (ngSubmit)="onSubmit()" [ngFormModel]="myform" #f="ngForm"&gt;
    </h3>
    NgForm automatically creates a control group called ngForm for us when we don't
    use ngFormModel. Note : we're still using #f="ngForm" but it refers to the control
    we created by formBuilder.
    So <strong>myform.controls.firstName</strong> is the same as <strong>f.form.controls.firstName</strong>
    
    (ngSubmit) event comes from NgForm

</pre>

<div class="alert alert-info" role="alert">
    Error messages per field and disabled save button until entire form is valid.
</div>

<form (ngSubmit)="onSubmit()" [ngFormModel]="myform" #f="ngForm">

    <button (click)="logit($event, f, myform)">Console log Form Info</button>


    <div class="form-row">
        <div class="formHeading">Some checkbox</div>
        <input type="checkbox" ngControl="checkMe">
        <div class="errorMessage"
             *ngIf="!f.form.controls.checkMe.valid">
            Needs checking
        </div>
    </div>

    <div class="form-row">
        <div class="formHeading">First Name (required)</div>
        <input type="text" id="firstName" ngControl="firstName">
        <div class="errorMessage"
             *ngIf="myform.controls.firstName.touched && !f.form.controls.firstName.valid">
            First Name is required
        </div>
    </div>


    <div class="form-row">
        <div class="formHeading">Street Address</div>
        <input type="text" id="firstName" ngControl="streetAddress">
        <div class="errorMessage"
             *ngIf="f.form.controls.streetAddress.touched && !f.form.controls.streetAddress.valid">
            Street Address is required
        </div>
    </div>


    <div class="form-row">
        <div class="formHeading">Zip Code</div>
        <input type="text" id="zip" ngControl="zip" #spy>
        <div class="errorMessage"
             *ngIf="f.form.controls.zip.touched && !f.form.controls.zip.valid">
            Zip code has to be 5 digits long
        </div>
    </div>
    <pre>zip input classNames = {{spy.className}}</pre>


    <div class="form-row">
        <div class="formHeading">Address Type</div>
        <select id="type" ngControl="type">
            <option [value]="'home'">Home Address</option>
            <option [value]="'billing'">Billing Address</option>
        </select>
    </div>
    <div class="form-row">
        <button type="submit" [disabled]="!f.form.valid">Save</button>
    </div>

</form>

<div class="form-row">
    <div *ngIf="payLoad"><strong>The form contains the following values</strong></div>
    <div>
        {{payLoad}}
    </div>
</div>

<h4><a href="http://www.syntaxsuccess.com/viewarticle/forms-and-validation-in-angular-2.0">Read more here</a></h4>
<hr>